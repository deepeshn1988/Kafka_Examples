{
    "servers":[
    {
        "alias":"KSQL",
            "host":"ksql-server",
            "port":"30002",
            "queries":[
                {
                    "obj" : "io.confluent.ksql.metrics:type=ksql-engine-query-stats",
                    "attr" : [ "bytes-consumed-total",
                        "error-rate",
                        "messages-consumed-avg",
                        "messages-consumed-max",
                        "messages-consumed-min",
                        "messages-consumed-per-sec",
                        "messages-consumed-total",
                        "messages-produced-per-sec",
                        "num-active-queries",
                        "num-idle-queries",
                        "num-persistent-queries"],
                    "resultAlias":"ksql-engine-query-stats",
                    "outputWriters" : [ {
                        "@class" : "com.googlecode.jmxtrans.model.output.InfluxDbWriterFactory",
                        "url" : "http://influxdb:8086",
                        "username": "root",
                        "password": "root",
                        "database" : "influx"
                    }]
                },{
                    "obj" : "io.confluent.ksql.metrics:type=consumer-metrics,key=*,id=*",
                    "attr" : [ "consumer-failed-messages",
                        "consumer-messages-per-sec",
                        "consumer-total-message-bytes",
                        "consumer-total-messages",
                        "failed-messages-per-sec" ],
                    "resultAlias":"ksql-consumer-metrics",
                    "outputWriters" : [ {
                        "@class" : "com.googlecode.jmxtrans.model.output.InfluxDbWriterFactory",
                        "url" : "http://influxdb:8086",
                        "username": "root",
                        "password": "root",
                        "database" : "influx"
                    }]
                },{
                    "obj" : "io.confluent.ksql.metrics:type=producer-metrics,key=*,id=*",
                    "attr" : ["failed-messages",
                        "failed-messages-per-sec",
                        "messages-per-sec",
                        "total-messages"],
                    "resultAlias":"ksql-producer-metrics",
                    "outputWriters" : [ {
                        "@class" : "com.googlecode.jmxtrans.model.output.InfluxDbWriterFactory",
                        "url" : "http://influxdb:8086",
                        "username": "root",
                        "password": "root",
                        "database" : "influx"
                    }]
                },{
                    "obj" : "kafka.consumer:type=consumer-metrics,client-id=*",
                    "attr" : [ "connection-close-rate",
                        "connection-close-total",
                        "connection-count",
                        "connection-creation-rate",
                        "connection-creation-total",
                        "failed-authentication-rate",
                        "failed-authentication-total",
                        "incoming-byte-rate",
                        "incoming-byte-total",
                        "io-ratio",
                        "io-time-ns-avg",
                        "io-wait-ratio",
                        "io-wait-time-ns-avg",
                        "io-waittime-total",
                        "iotime-total",
                        "network-io-rate",
                        "network-io-total",
                        "outgoing-byte-rate",
                        "outgoing-byte-total",
                        "request-rate",
                        "request-size-avg",
                        "request-size-max",
                        "request-total",
                        "response-rate",
                        "response-total",
                        "select-rate",
                        "select-total",
                        "successful-authentication-rate",
                        "successful-authentication-total" ],
                    "resultAlias":"kafka-consumer-metrics",
                    "outputWriters" : [ {
                        "@class" : "com.googlecode.jmxtrans.model.output.InfluxDbWriterFactory",
                        "url" : "http://influxdb:8086",
                        "username": "root",
                        "password": "root",
                        "database" : "influx"
                    }]
                },{
                    "obj" : "kafka.producer:client-id=*,type=producer-metrics",
                    "attr" : [ "batch-size-avg",
                        "batch-size-max",
                        "batch-split-rate",
                        "batch-split-total",
                        "buffer-available-bytes",
                        "buffer-exhausted-rate",
                        "buffer-exhausted-total",
                        "buffer-total-bytes",
                        "bufferpool-wait-ratio",
                        "bufferpool-wait-time-total",
                        "compression-rate-avg",
                        "connection-close-rate",
                        "connection-close-total",
                        "connection-count",
                        "connection-creation-rate",
                        "connection-creation-total",
                        "failed-authentication-rate",
                        "failed-authentication-total",
                        "incoming-byte-rate",
                        "incoming-byte-total",
                        "io-ratio",
                        "io-time-ns-avg",
                        "io-wait-ratio",
                        "io-wait-time-ns-avg",
                        "io-waittime-total",
                        "iotime-total",
                        "metadata-age",
                        "network-io-rate",
                        "network-io-total",
                        "outgoing-byte-rate",
                        "outgoing-byte-total",
                        "produce-throttle-time-avg",
                        "produce-throttle-time-max",
                        "record-error-rate",
                        "record-error-total",
                        "record-queue-time-avg",
                        "record-queue-time-max",
                        "record-retry-rate",
                        "record-retry-total",
                        "record-send-rate",
                        "record-send-total",
                        "record-size-avg",
                        "record-size-max",
                        "records-per-request-avg",
                        "request-latency-avg",
                        "request-latency-max",
                        "request-rate",
                        "request-size-avg",
                        "request-size-max",
                        "request-total",
                        "requests-in-flight",
                        "response-rate",
                        "response-total",
                        "select-rate",
                        "select-total",
                        "successful-authentication-rate",
                        "successful-authentication-total",
                        "waiting-threads" ],
                    "resultAlias":"kafka-producer-metrics",
                    "outputWriters" : [ {
                        "@class" : "com.googlecode.jmxtrans.model.output.InfluxDbWriterFactory",
                        "url" : "http://influxdb:8086",
                        "username": "root",
                        "password": "root",
                        "database" : "influx"
                    }]
                },{
                    "obj" : "kafka.streams:client-id=*,type=stream-metrics",
                    "attr" : ["commit-latency-avg",
                        "commit-latency-max",
                        "commit-rate",
                        "commit-total",
                        "poll-latency-avg",
                        "poll-latency-max",
                        "poll-rate",
                        "poll-total",
                        "process-latency-avg",
                        "process-latency-max",
                        "process-rate",
                        "process-total",
                        "punctuate-latency-avg",
                        "punctuate-latency-max",
                        "punctuate-rate",
                        "punctuate-total",
                        "skipped-records-rate",
                        "skipped-records-total",
                        "task-closed-rate",
                        "task-closed-total",
                        "task-created-rate",
                        "task-created-total"],
                    "resultAlias":"kafka-stream-metrics",
                    "outputWriters" : [ {
                        "@class" : "com.googlecode.jmxtrans.model.output.InfluxDbWriterFactory",
                        "url" : "http://influxdb:8086",
                        "username": "root",
                        "password": "root",
                        "database" : "influx"
                    }]
                }
        ]
    }
    ]
}
